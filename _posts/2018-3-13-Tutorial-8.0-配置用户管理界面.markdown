---
layout: post
title:  "配置用户管理界面"
date:   2018-03-13
visible: 1
---

在前面的教程中，我们使用系统预先创建的用户（例如，demo1, demo2,demo3等），角色（系统管理员和经理等）和部门（例如：实验中心和产品试验部门等）进行登录或设置权限规则。您一定会想了解如何创建系统的用户，角色及部门。Ebaas平台提供了针对用户，角色和组织结构管理的功能，能满足企业应用的需要。下面，我们就逐一介绍这些功能。

Ebaas平台将用户，角色和部门信息，以及用户与角色或部门的关系保存在自带的“UserInfo”数据库中。您可以使用DesignStudio登录到“UserInfo”数据库对用户、角色和部门的信息进行维护。由于企业应用软件通常涉及安全保密的需求，通常由指定的系统管理员负责用户信息的维护。为了方便系统管理员使用浏览器进行用户信息的管理，Ebaas平台提供了基于Web的用户及角色管理模块。我们这里主要介绍基于Web的用户信息功能。

#### 配置用户目录模块菜单

首先，我们介绍如何配置基于Web的用户管理模块。步骤如下：

* 从“开始” => Ebaas => SiteMapStudio打开SiteMapStudio工具；
* 点击“文件” => “打开” => 以admin登录；
* 选择“事务跟踪管理”网站地图 => 选择“系统设置”菜单项 => 右键菜单选择“添加”；
* 在弹出的“添加新项”对话框中 => 输入名称“UserDirectory” => 确认。 如下图所示；

<img src="{{'/assets/img/2018-3-13-创建用户目录菜单.png' | prepend: site.baseurl }}" alt="">

* 展开“系统设置”菜单 => 选择新添加的“UserDirectory”菜单，在“设置”选项卡中按照下表的参数进行设置：

| 设置参数名 | 设置参数值 | 描述 |
|-------|--------|---------|
| 名称 | UserDirectory | 菜单项的名称，必须是唯一的 |
| 显示名 | 用户目录 | 菜单项在用户界面显示的名称 |
| 数据库 | USERINFO 1.0 | 菜单项所指向的数据库 |
| 数据类 | User | 菜单项所指向的数据类 |
| 模块URL | app.userdirectory | 菜单指向的界面模块，该模块是用户目录管理模块 |
| 图标名称 | fa fa-fw fa-male | 菜单显示的图标 |
| 描述 | col-xs-4 col-sm-3 col-md-2 page-purple | 菜单显示的样式 |

点击“模块参数”右边“...”按钮 => 在弹出的“定义参数”框中按照下表设置参数：

| 设置参数名 | 设置参数值 | 描述 |
|-------|--------|---------|
| formTemplate | userform.htm | 指定添加或修改用户信息的表单模板（系统自带） |
| dataView | usercn | 指定显示用户列表的数据视图（系统自带） |

菜单的配置结果如下图所示：

<img src="{{'/assets/img/2018-3-13-设置用户目录菜单.png' | prepend: site.baseurl }}" alt="">

#### 配置用户目录模块定制命令



{% include note.html content="作用者为Everyone的规则是在数‘事务跟踪管理’数据模型层定义的，因而会被“事务”数据类在内的所有数据类继承。在数据模型层面定义权限规则就像定义全局规则一样，可以避免在每个数据类定义相似的权限规则，从而简化设置权限控制的工作" %}
