---
layout: post
title:  "创建工作流模型"
date:   2018-03-22
visible: 1
---

#### 创建工作流项目

这个教程中，我们要学习使用Ebaas的WorkflowStudio工具来配置“事务跟踪管理”流程模型。通常一个企业应用系统会有一到多个相关的工作流模型。因而，我们首先需要创建一个工作流项目来管理这些相关的工作流模型。

* 在“开始”菜单 => Ebaas => WorkflowStudio菜单打开WorkflowStudio工具;
* 打开WorkflowStduio工具后，点击“文件” => “新建”菜单创建一个新的工作流项目“工作流项目 1.0”，见下图；

<img src="{{'/assets/img/2018-3-22-创建工作流项目.png' | prepend: site.baseurl }}" alt="">

#### 创建状态机工作流

状态机工作流提供了一组状态。工作流程在初始状态下开始，并在达到完成状态时结束。国家之间的转换定义了行为。一般来说，状态机工作流程会对事件做出反应。事件的发生会导致工作流程转换到另一个状态。

状态机工作流的主要优点之一是能够通过工作流定义多条路径。您可以轻松地在状态机工作流程中包含循环和重新执行状态。

状态和转换的定义形成了状态机工作流的模型。工作流模型的多个工作流实例可以在运行时期间以不同的状态运行。每个工作流实例都代表一个执行过程中的进程，并且绑定到数据实例，如问题或订单。绑定通常发生在创建数据实例的事件触发工作流时。

工作流中的状态是进程需要进行任务分配，暂停和等待事件执行任务以进入下一个状态的状态。工作流任务的接收者通常通过基于Web或移动设备的表单与预定义操作（如“批准”或“拒绝”）进行交互。执行操作会将事件引发到工作流实例，导致它移动到下一个状态。



创建一个状态机工作流

按照图6所示的步骤创建一个名为“Issue Tracking”的状态机工作流程。
图6：创建一个状态机工作流程

选择上一步中创建的“问题跟踪”工作流程，然后单击底部的“属性”选项卡以切换工作流程的属性（请参见图7）
图7：显示工作流程的属性

在“属性”选项卡中，定义绑定到工作流的数据类。因此，将“架构ID”设置为在DesignStudio中创建的数据模型之一“TDM 1.0”。
将“类名”设置为“问题”，表示“问题”是对工作流的绑定类。
将“Event Name”设置为“IssueCreated”，表示“IssueCreated”事件启动工作流实例。
图8：设置工作流程的属性

