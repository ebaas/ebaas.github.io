---
layout: post
title:  "设置表单属性自动填充"
date:   2018-03-01
visible: 1
---

通常，表单中的某些字段可以逻辑相关，这意味着字段的更改可能会导致其他字段的更改。例如，当问题的“状态”为“固定”时，您可能希望将“进度”的值自动更改为100，而不是手动更改。

为了满足这个要求，你也可以在数据模型中实现逻辑。

第1步：实现回调代码

编写这个逻辑的正确位置是“Issue”类的“回调函数代码”。

单击“回调函数代码”设置打开代码编辑器，将以下代码写入编辑器（请参见图5）

图5：回拨代码

如果（this.Property ==“状态”）
{
 字符串状态= this.Instance.GetString（“状态”）;
  如果（状态==“固定”）
  {
      this.Instance.SetValue（“Progress”，100）;
  }
}
代码在哪里

如果（this.Property ==“状态”）
确保如果通过“状态”属性的值更改事件调用回调，则会执行此代码块。

第2步：在“状态”属性上启用回拨

接下来，您需要通过将“调用回调”设置为“True”来启用“状态”属性上的回调（参见图6）。

图6：在属性上启用回调

最后，将更新的数据模型保存到数据库。

第3步：测试表单

现在，回到“问题跟踪”页面，打开现有问题的编辑表单，将“状态”的值更改为“固定”，将“进度”的值更改为100.
